(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{31:function(e,t,a){e.exports=a(66)},36:function(e,t,a){},37:function(e,t,a){},57:function(e,t,a){},66:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(27),l=a.n(r),c=a(7),i=a(6),u=a(28),s=a(10),m=a(11),h=a(13),d=a(12),f=a(14);a(36);var E=function(e){return o.a.createElement("span",Object.assign({className:"delete-btn"},e,{role:"button",tabIndex:"0"}),"\u2717")};var b=function(e){var t=e.type,a=void 0===t?"default":t,n=e.className,r=e.id,l=e.children,c=e.onClick;return o.a.createElement("button",{onClick:c,id:r,className:["btn btn-lg","btn-".concat(a),n].join(" ")},l)};a(37);var k=function(e){var t=e.src;return t?o.a.createElement("div",null,o.a.createElement("img",{className:"img-thumbnail","aria-label":"Book Cover",src:t,alt:""})):o.a.createElement("div",null,o.a.createElement("h3",null,"Image Not Found"))};function p(e){var t=e.fluid,a=e.children;return o.a.createElement("div",{className:"container".concat(t?"-fluid":"")},a)}function v(e){var t=e.fluid,a=e.children;return o.a.createElement("div",{className:"row".concat(t?"-fluid":"")},a)}function g(e){var t=e.size,a=e.children;return o.a.createElement("div",{className:t.split(" ").map(function(e){return"col-"+e}).join(" ")},a)}function B(e){var t=e.children;return o.a.createElement("ul",{className:"list-group",key:t.id},t)}function y(e){var t=e.thumbnail,a=e.title,n=e.authors,r=e.description,l=e.href;e.key;return o.a.createElement("li",{className:"list-group-item"},o.a.createElement(p,null,o.a.createElement(v,null,o.a.createElement(g,{size:"xs-4 sm-2"},o.a.createElement(k,{src:t})),o.a.createElement(g,{size:"xs-8 sm-9"},o.a.createElement("h3",null,a),o.a.createElement("h3",null,n),o.a.createElement("p",null,r),o.a.createElement("a",{rel:"noreferrer noopener",target:"_blank",href:l},"Go to summary!")))))}var N=function(e){var t=e.children;return o.a.createElement("div",{style:{height:100,clear:"both",paddingTop:60,textAlign:"center"},className:"jumbotron"},t)},S=a(9),j=a.n(S),I={getBooks:function(){return j.a.get("/api/books")},getBook:function(e){return j.a.get("/api/books/"+e)},deleteBook:function(e){return j.a.delete("/api/books/"+e)},saveBook:function(e){return j.a.post("/api/books",e)},getBookSearch:function(e){return j.a.get("/api/search",{params:{q:e}})}};a(57);function O(e){var t=e.children;return o.a.createElement("div",{className:"list-overflow-container"},o.a.createElement("ul",{className:"list-group"},t))}function x(e){var t=e.children;return o.a.createElement("li",{className:"list-group-item"},t)}function z(e){return o.a.createElement("div",{className:"form-group"},o.a.createElement("input",Object.assign({className:"form-control"},e)))}var C=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(h.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={book:[],bookSearch:"",books:[],title:"",authors:[],href:"",description:"",thunbnail:""},a.loadBooks=function(){I.getBooks().then(function(e){return a.setState({books:e.data,title:"",author:"",description:""})}).catch(function(e){return console.log(e)})},a.deleteBook=function(e){I.deleteBook(e).then(function(e){return a.loadBooks()}).catch(function(e){return console.log(e)})},a.saveBook=function(){a.state.title&&a.state.author&&I.saveBook({title:a.state.title,author:a.state.author,description:a.state.description,image:a.state.thumbnail,link:a.state.href}).then(function(e){return a.loadBooks()}).catch(function(e){return console.log(e)})},a.handleInputChange=function(e){var t=e.target,n=t.name,o=t.value;a.setState(Object(u.a)({},n,o))},a.handleFormSubmit=function(e){e.preventDefault(),a.state.title&&a.state.author&&I.saveBook({title:a.state.title,author:a.state.author,description:a.state.description,href:a.state.href,thumbnail:a.state.thumbnail}).then(function(e){return a.loadBooks()}).catch(function(e){return console.log(e)})},a.handleFormSubmit2=function(e){e.preventDefault(),I.getBookSearch(a.state.bookSearch).then(function(e){return a.setState({book:e.data,bookSearch:""})}).catch(function(e){return console.log(e)})},a.handleFormSubmit3=function(e){e.preventDefault(),I.getBookSearch(e.target.id).then(function(e){a.setState({title:e.data[0].volumeInfo.title,author:e.data[0].volumeInfo.authors.toString(),description:e.data[0].volumeInfo.description,href:e.data[0].volumeInfo.infoLink,thumbnail:e.data[0].volumeInfo.imageLinks.thumbnail}),a.saveBook()}).catch(function(e){return console.log(e)})},a}return Object(f.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.loadBooks()}},{key:"render",value:function(){var e=this;return o.a.createElement(p,{fluid:!0},o.a.createElement(v,null,o.a.createElement(g,{size:"lg-12"},o.a.createElement("form",null,o.a.createElement(p,null,o.a.createElement(v,null,o.a.createElement(g,{size:"xs-9 sm-10"},o.a.createElement(z,{name:"bookSearch",value:this.state.bookSearch,onChange:this.handleInputChange,placeholder:"Search For a Book"})),o.a.createElement(g,{size:"xs-3 sm-2"},o.a.createElement(b,{onClick:this.handleFormSubmit2,type:"success",className:"input-lg"},"Search"))))))),o.a.createElement(v,null,o.a.createElement(g,{size:"md-6"},o.a.createElement(N,null,o.a.createElement("h1",null,"What Should I Read?")),this.state.book.length?o.a.createElement(B,null,this.state.book.map(function(t){return o.a.createElement("div",{key:t.id},o.a.createElement(y,{title:t.volumeInfo.title,authors:t.volumeInfo.authors,href:t.volumeInfo.infoLink,description:t.volumeInfo.description,thumbnail:t.volumeInfo.imageLinks?t.volumeInfo.imageLinks.thumbnail:"https://books.google.com/googlebooks/images/no_cover_thumb.gif"}),o.a.createElement(b,{onClick:e.handleFormSubmit3,type:"success",className:"input-lg",id:t.id},"Save to Database"))})):o.a.createElement("h3",{className:"text-center"},"No Books to Display,",this.state.book)),o.a.createElement(g,{size:"md-6"},o.a.createElement(N,null,o.a.createElement("h1",null,"Books On My List")),this.state.books.length?o.a.createElement(O,null,this.state.books.map(function(t){return o.a.createElement(x,{key:t._id},o.a.createElement(c.b,{to:"/books/"+t._id},o.a.createElement("strong",null,t.title," by ",t.author)),o.a.createElement(E,{onClick:function(){return e.deleteBook(t._id)}}))})):o.a.createElement("h3",null,"No Results to Display"))))}}]),t}(n.Component),w=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(h.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={book:{}},a}return Object(f.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;I.getBook(this.props.match.params.id).then(function(t){return e.setState({book:t.data})}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){return o.a.createElement(p,{fluid:!0},o.a.createElement(v,null,o.a.createElement(g,{size:"md-12"},o.a.createElement(N,null,o.a.createElement("h1",null,this.state.book.title," by ",this.state.book.author)))),o.a.createElement(v,null,o.a.createElement(g,{size:"md-10 md-offset-1"},o.a.createElement("article",null,o.a.createElement(k,{src:this.state.book.image}),o.a.createElement("h1",null,"Synopsis"),o.a.createElement("p",null,this.state.book.description),o.a.createElement("a",{rel:"noreferrer noopener",target:"_blank",href:this.state.book.link},"Go to summary!")))),o.a.createElement(v,null,o.a.createElement(g,{size:"md-2"},o.a.createElement(c.b,{to:"/"},"\u2190 Back to Authors"))))}}]),t}(n.Component);var F=function(){return o.a.createElement(p,{fluid:!0},o.a.createElement(v,null,o.a.createElement(g,{size:"md-12"},o.a.createElement(N,null,o.a.createElement("h1",null,"404 Page Not Found"),o.a.createElement("h1",null,o.a.createElement("span",{role:"img","aria-label":"Face With Rolling Eyes Emoji"},"\ud83d\ude44"))))))};var D=function(){return o.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-primary"},o.a.createElement("a",{className:"navbar-brand",href:"/"},"GoogleBooks React App"))};var _=function(){return o.a.createElement(c.a,null,o.a.createElement("div",null,o.a.createElement(D,null),o.a.createElement(i.c,null,o.a.createElement(i.a,{exact:!0,path:"/",component:C}),o.a.createElement(i.a,{exact:!0,path:"/books",component:C}),o.a.createElement(i.a,{exact:!0,path:"/books/:id",component:w}),o.a.createElement(i.a,{component:F}))))};l.a.render(o.a.createElement(_,null),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.2020e907.chunk.js.map